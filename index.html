<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Financiamento</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Fundo escuro */
            color: #e2e8f0; /* Texto claro */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            padding: 20px;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 flex items-center justify-center min-h-screen p-4">

    <div class="bg-gray-800 p-8 md:p-12 rounded-2xl shadow-2xl flex flex-col items-center max-w-lg w-full">
        <!-- Título -->
        <h1 class="text-3xl md:text-4xl font-bold text-center text-teal-400 mb-6">Calculadora Payjoy</h1>
        
        <!-- Descrição -->
        <p class="text-center mb-8 text-gray-300">
            Calcule o valor que a Loja irá receber
        </p>

        <!-- Campo para Valor Total Financiado Payjoy -->
        <div class="w-full mb-6">
            <label for="financedValue" class="block text-sm font-medium text-gray-400 mb-2">Valor Total Financiado Payjoy</label>
            <input type="number" id="financedValue" placeholder="Ex: 50000"
                   class="w-full p-3 rounded-xl bg-gray-700 border border-gray-600 text-gray-50 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors duration-200">
        </div>

        <!-- Campo para Entrada pedida no sistema -->
        <div class="w-full mb-6">
            <label for="downPayment" class="block text-sm font-medium text-gray-400 mb-2">Entrada pedida no sistema</label>
            <input type="number" id="downPayment" placeholder="Ex: 10000"
                   class="w-full p-3 rounded-xl bg-gray-700 border border-gray-600 text-gray-50 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors duration-200">
        </div>
        
        <!-- Campo para Valor real da entrada Pago pelo Cliente -->
        <div class="w-full mb-8">
            <label for="customerPaidValue" class="block text-sm font-medium text-gray-400 mb-2">Valor real da entrada Pago pelo Cliente</label>
            <input type="number" id="customerPaidValue" placeholder="Ex: 2000"
                   class="w-full p-3 rounded-xl bg-gray-700 border border-gray-600 text-gray-50 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors duration-200">
        </div>

        <!-- Botão de Cálculo -->
        <button onclick="calculate()"
                class="w-full bg-teal-500 text-white font-bold py-3 rounded-xl shadow-lg hover:bg-teal-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-gray-800">
            Calcular
        </button>

        <!-- Resultado -->
        <div id="result" class="mt-8 text-2xl md:text-3xl font-bold text-center text-yellow-300">
            <!-- O resultado será exibido aqui -->
        </div>
    </div>

    <script>
        function calculate() {
            const financedValueInput = document.getElementById('financedValue');
            const downPaymentInput = document.getElementById('downPayment');
            const customerPaidValueInput = document.getElementById('customerPaidValue');
            const resultDiv = document.getElementById('result');

            const financedValue = parseFloat(financedValueInput.value);
            const downPayment = parseFloat(downPaymentInput.value) || 0;
            const customerPaidValue = parseFloat(customerPaidValueInput.value) || 0;

            // Verifica se os valores são números válidos
            if (isNaN(financedValue) || isNaN(downPayment) || isNaN(customerPaidValue) || financedValue < 0 || downPayment < 0 || customerPaidValue < 0) {
                resultDiv.textContent = 'Por favor, insira valores válidos.';
                resultDiv.classList.remove('text-yellow-300');
                resultDiv.classList.add('text-red-400');
                return;
            }

            // A nova lógica de cálculo não considera o desconto, apenas subtrai a entrada e soma o valor pago pelo cliente
            const remainingValue = financedValue - downPayment + customerPaidValue;

            // Verifica se o valor restante é negativo
            if (remainingValue < 0) {
                resultDiv.textContent = 'A soma das entradas não pode ser maior que o valor financiado.';
                resultDiv.classList.remove('text-yellow-300');
                resultDiv.classList.add('text-red-400');
                return;
            }

            // Formata o resultado para moeda brasileira (BRL)
            const formattedResult = new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL',
            }).format(remainingValue);

            // Exibe o resultado com a nova mensagem
            resultDiv.textContent = `Valor a receber Payjoy: ${formattedResult}`;
            resultDiv.classList.remove('text-red-400');
            resultDiv.classList.add('text-yellow-300');
        }
    </script>
</body>
</html>
